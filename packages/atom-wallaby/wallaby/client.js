/*
 * Wallaby.js - v1.0.279
 * http://wallabyjs.com
 * Copyright (c) 2014-2016 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function e(t,i,n){function s(a,o){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return s(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}var r="function"==typeof require&&require;module.exports=s(n[0])}({1:[function(e,t,i){e("./lib/global");var n=e("child_process"),s=e("path"),r=e("http"),a=e("ws"),o=0,l=/^win/.test(process.platform),u=function(){this._killed=!1,this._callbacks=Object.create(null)};u.prototype=_.extend(Object.create(EventEmitter.prototype),{start:function(e){var t=this;this._openedFiles=Object.create(null),this._killed=!1,this._nodePath=process.env.WALLABY_NODE||"node";var i=process.env.PATH||process.env.Path,r=_.extend({},process.env,{PATH:(i?i+s.delimiter:"")+(l?"":"/usr/local/bin")});delete r.NODE_ENV,delete r.NODE_PATH,t._withFreePort(function(i){t._killed||(t._process=n.spawn(t._nodePath,["--harmony",s.join(__dirname,"server.js"),"extended-core-ws","--projectCachePath="+e.projectPath,"--configPath="+e.configPath,"--lkp="+e.lkp,"--client="+e.client,"--phantomjs="+e.phantomPath,"--port="+i],{env:r,cwd:s.dirname(e.configPath)}),t._process.on("error",function(e){e&&e.message&&~e.message.indexOf("spawn "+t._nodePath+" ENOENT")?(t.emit("notification",{type:"error",text:"Can not start node.js process ("+t._nodePath+'), make sure your system has <a href="http://wallabyjs.com/docs/intro/install.html#node-js">node.js installed</a>.'}),t.emit("stopped",{})):t.emit("consoleError",e.stack||e.message)}),t._bufferStream(t._process.stderr,function(e){t.emit("consoleError",e)}),t._bufferStream(t._process.stdout,function(e){e&&~e.indexOf("wallaby.js started")?t._connectToServer(i):t.emit("consoleLog",e)}))})},stop:function(){try{try{this._send({type:"stop"}),this._ws.close()}finally{this._process.disconnect()}}catch(e){}finally{this._killed=!0,this._callbacks=Object.create(null),this._openedFiles=Object.create(null)}},_connectToServer:function(e){var t=this;t._ws=new a("ws://localhost:"+e),t._ws.on("message",function(e){var i=JSON.parse(e),n=t["_"+i.type];n&&n.call(t,i)})},_withFreePort:function(e){var t=r.createServer();t.listen(0),t.on("listening",function(){var i=t.address().port;t.once("close",function(){e(i)}),t.close()})},isDisposed:function(){return this._killed},fileChangedInEditor:function(e,t,i){this._send({type:"fileChangedInEditor",path:e,content:t,changeFrame:i})},fileOpenedInEditor:function(e){this._openedFiles[e]=(this._openedFiles[e]||0)+1,this._send({type:"fileOpenedInEditor",path:e})},fileClosedInEditor:function(e){var t=(this._openedFiles[e]||0)-1;if(this._openedFiles[e]=t,0>t)throw new Error("Negative opened editor count for "+e);0===t&&(delete this._openedFiles[e],this._send({type:"fileClosedInAllEditors",path:e}))},runTests:function(e){this._send({type:"runTests",request:e})},continueTrial:function(){this._send({type:"continueTrial"})},requestUncoveredRegions:function(e,t){this._requestWithCorrelationId("uncoveredRegions",e,t)},requestLineReport:function(e,t){this._requestWithCorrelationId("lineReport",e,t)},requestLocation:function(e,t){this._requestWithCorrelationId("location",e,t)},_requestWithCorrelationId:function(e,t,i){var n=this,s=++o,r=this._callbacks[s]={done:i};this._send({type:e,request:t,id:s}),r.timeout=setTimeout(function(){delete n._callbacks[s]},5e3)},_responseWithCorrelationId:function(e){var t=this._callbacks[e.id];delete this._callbacks[e.id],t&&(clearTimeout(t.timeout),t.done(e.data))},_bufferStream:function(e,t){var i=this,n="";e.setEncoding("utf8"),e.on("data",function(e){if(!i._killed){n+=e;var s=n.lastIndexOf("\n");~s&&(t(n.substring(0,s+1)),n=n.substring(s+1))}}),e.on("close",function(){i._killed||n.length&&t(n)})},_send:function(e){this._ws&&this._ws.send(JSON.stringify(e))},_started:function(e){this.emit("started",e)},_stopped:function(e){this.emit("stopped",e)},_expiredLicense:function(e){this.emit("expiredLicense",e)},_documentUpdates:function(e){this.emit("documentUpdates",e.updates)},_navigationRequested:function(e){this.emit("navigationRequested",e)},_stats:function(e){this.emit("stats",e.data)},_filesToTrack:function(e){this.emit("filesToTrack",e.files)},_live:function(e){this.emit("live",e)},_projectConfigured:function(e){},_notification:function(e){this.emit("notification",e.notification)},_busy:function(){this.emit("busy")},_location:function(e){this._responseWithCorrelationId(e)},_uncoveredRegions:function(e){this._responseWithCorrelationId(e)},_lineReport:function(e){this._responseWithCorrelationId(e)}}),t.exports={Session:u,enums:e("./lib/extension/shared/enums"),utils:e("./lib/extension/shared/utils"),reportBuilder:e("./lib/extension/client/reportBuilder")}},{"./lib/extension/client/reportBuilder":3,"./lib/extension/shared/enums":4,"./lib/extension/shared/utils":5,"./lib/global":6,child_process:void 0,http:void 0,path:void 0,ws:void 0}],2:[function(e,t,i){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var s=-1,r=1,a=0;n.Diff,n.prototype.diff_main=function(e,t,i,n){"undefined"==typeof n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[a,e]]:[];"undefined"==typeof i&&(i=!0);var r=i,o=this.diff_commonPrefix(e,t),l=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=this.diff_commonSuffix(e,t);var u=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var c=this.diff_compute_(e,t,r,s);return l&&c.unshift([a,l]),u&&c.push([a,u]),this.diff_cleanupMerge(c),c},n.prototype.diff_compute_=function(e,t,i,n){var o;if(!e)return[[r,t]];if(!t)return[[s,e]];var l=e.length>t.length?e:t,u=e.length>t.length?t:e,c=l.indexOf(u);if(-1!=c)return o=[[r,l.substring(0,c)],[a,u],[r,l.substring(c+u.length)]],e.length>t.length&&(o[0][0]=o[2][0]=s),o;if(1==u.length)return[[s,e],[r,t]];var h=this.diff_halfMatch_(e,t);if(h){var d=h[0],f=h[1],_=h[2],v=h[3],p=h[4],g=this.diff_main(d,_,i,n),m=this.diff_main(f,v,i,n);return g.concat([[a,p]],m)}return i&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},n.prototype.diff_lineMode_=function(e,t,i){var n=this.diff_linesToChars_(e,t);e=n.chars1,t=n.chars2;var o=n.lineArray,l=this.diff_main(e,t,!1,i);this.diff_charsToLines_(l,o),this.diff_cleanupSemantic(l),l.push([a,""]);for(var u=0,c=0,h=0,d="",f="";u<l.length;){switch(l[u][0]){case r:h++,f+=l[u][1];break;case s:c++,d+=l[u][1];break;case a:if(c>=1&&h>=1){l.splice(u-c-h,c+h),u=u-c-h;for(var n=this.diff_main(d,f,!1,i),_=n.length-1;_>=0;_--)l.splice(u,0,n[_]);u+=n.length}h=0,c=0,d="",f=""}u++}return l.pop(),l},n.prototype.diff_bisect_=function(e,t,i){for(var n=e.length,a=t.length,o=Math.ceil((n+a)/2),l=o,u=2*o,c=new Array(u),h=new Array(u),d=0;u>d;d++)c[d]=-1,h[d]=-1;c[l+1]=0,h[l+1]=0;for(var f=n-a,_=f%2!=0,v=0,p=0,g=0,m=0,y=0;o>y&&!((new Date).getTime()>i);y++){for(var b=-y+v;y-p>=b;b+=2){var T,w=l+b;T=b==-y||b!=y&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1;for(var R=T-b;n>T&&a>R&&e.charAt(T)==t.charAt(R);)T++,R++;if(c[w]=T,T>n)p+=2;else if(R>a)v+=2;else if(_){var F=l+f-b;if(F>=0&&u>F&&-1!=h[F]){var j=n-h[F];if(T>=j)return this.diff_bisectSplit_(e,t,T,R,i)}}}for(var C=-y+g;y-m>=C;C+=2){var j,F=l+C;j=C==-y||C!=y&&h[F-1]<h[F+1]?h[F+1]:h[F-1]+1;for(var E=j-C;n>j&&a>E&&e.charAt(n-j-1)==t.charAt(a-E-1);)j++,E++;if(h[F]=j,j>n)m+=2;else if(E>a)g+=2;else if(!_){var w=l+f-C;if(w>=0&&u>w&&-1!=c[w]){var T=c[w],R=l+T-w;if(j=n-j,T>=j)return this.diff_bisectSplit_(e,t,T,R,i)}}}}return[[s,e],[r,t]]},n.prototype.diff_bisectSplit_=function(e,t,i,n,s){var r=e.substring(0,i),a=t.substring(0,n),o=e.substring(i),l=t.substring(n),u=this.diff_main(r,a,!1,s),c=this.diff_main(o,l,!1,s);return u.concat(c)},n.prototype.diff_linesToChars_=function(e,t){function i(e){for(var t="",i=0,r=-1,a=n.length;r<e.length-1;){r=e.indexOf("\n",i),-1==r&&(r=e.length-1);var o=e.substring(i,r+1);i=r+1,(s.hasOwnProperty?s.hasOwnProperty(o):void 0!==s[o])?t+=String.fromCharCode(s[o]):(t+=String.fromCharCode(a),s[o]=a,n[a++]=o)}return t}var n=[],s={};n[0]="";var r=i(e),a=i(t);return{chars1:r,chars2:a,lineArray:n}},n.prototype.diff_wordMode=function(e,t){var i=this.diff_linesToWords_(e,t),n=i.chars1,s=i.chars2,r=i.lineArray,a=this.diff_main(n,s,!1);return this.diff_charsToLines_(a,r),a},n.prototype.diff_linesToWords_=function(e,t){function i(e){for(var t=e.split(/(\s+|\b)/),i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&a.test(t[i])&&a.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t}function n(e){for(var t="",n=i(e),a=s.length,o=0,l=n.length;l>o;o++){var u=n[o];(r.hasOwnProperty?r.hasOwnProperty(u):void 0!==r[u])?t+=String.fromCharCode(r[u]):(t+=String.fromCharCode(a),r[u]=a,s[a++]=u)}return t}var s=[],r={};s[0]="";var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,o=n(e),l=n(t);return{chars1:o,chars2:l,lineArray:s}},n.prototype.diff_charsToLines_=function(e,t){for(var i=0;i<e.length;i++){for(var n=e[i][1],s=[],r=0;r<n.length;r++)s[r]=t[n.charCodeAt(r)];e[i][1]=s.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,n=Math.min(e.length,t.length),s=n,r=0;s>i;)e.substring(r,s)==t.substring(r,s)?(i=s,r=i):n=s,s=Math.floor((n-i)/2+i);return s},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,n=Math.min(e.length,t.length),s=n,r=0;s>i;)e.substring(e.length-s,e.length-r)==t.substring(t.length-s,t.length-r)?(i=s,r=i):n=s,s=Math.floor((n-i)/2+i);return s},n.prototype.diff_commonOverlap_=function(e,t){var i=e.length,n=t.length;if(0==i||0==n)return 0;i>n?e=e.substring(i-n):n>i&&(t=t.substring(0,i));var s=Math.min(i,n);if(e==t)return s;for(var r=0,a=1;;){var o=e.substring(s-a),l=t.indexOf(o);if(-1==l)return r;a+=l,(0==l||e.substring(s-a)==t.substring(0,a))&&(r=a,a++)}},n.prototype.diff_halfMatch_=function(e,t){function i(e,t,i){for(var n,s,r,o,l=e.substring(i,i+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(l,u+1));){var h=a.diff_commonPrefix(e.substring(i),t.substring(u)),d=a.diff_commonSuffix(e.substring(0,i),t.substring(0,u));c.length<d+h&&(c=t.substring(u-d,u)+t.substring(u,u+h),n=e.substring(0,i-d),s=e.substring(i+h),r=t.substring(0,u-d),o=t.substring(u+h))}return 2*c.length>=e.length?[n,s,r,o,c]:null}if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,s=e.length>t.length?t:e;if(n.length<4||2*s.length<n.length)return null;var r,a=this,o=i(n,s,Math.ceil(n.length/4)),l=i(n,s,Math.ceil(n.length/2));if(!o&&!l)return null;r=l?o&&o[4].length>l[4].length?o:l:o;var u,c,h,d;e.length>t.length?(u=r[0],c=r[1],h=r[2],d=r[3]):(h=r[0],d=r[1],u=r[2],c=r[3]);var f=r[4];return[u,c,h,d,f]},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,i=[],n=0,o=null,l=0,u=0,c=0,h=0,d=0;l<e.length;)e[l][0]==a?(i[n++]=l,u=h,c=d,h=0,d=0,o=e[l][1]):(e[l][0]==r?h+=e[l][1].length:d+=e[l][1].length,o&&o.length<=Math.max(u,c)&&o.length<=Math.max(h,d)&&(e.splice(i[n-1],0,[s,o]),e[i[n-1]+1][0]=r,n--,n--,l=n>0?i[n-1]:-1,u=0,c=0,h=0,d=0,o=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==s&&e[l][0]==r){var f=e[l-1][1],_=e[l][1],v=this.diff_commonOverlap_(f,_),p=this.diff_commonOverlap_(_,f);v>=p?(v>=f.length/2||v>=_.length/2)&&(e.splice(l,0,[a,_.substring(0,v)]),e[l-1][1]=f.substring(0,f.length-v),e[l+1][1]=_.substring(v),l++):(p>=f.length/2||p>=_.length/2)&&(e.splice(l,0,[a,f.substring(0,p)]),e[l-1][0]=r,e[l-1][1]=_.substring(0,_.length-p),e[l+1][0]=s,e[l+1][1]=f.substring(p),l++),l++}l++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var i=e.charAt(e.length-1),s=t.charAt(0),r=i.match(n.nonAlphaNumericRegex_),a=s.match(n.nonAlphaNumericRegex_),o=r&&i.match(n.whitespaceRegex_),l=a&&s.match(n.whitespaceRegex_),u=o&&i.match(n.linebreakRegex_),c=l&&s.match(n.linebreakRegex_),h=u&&e.match(n.blanklineEndRegex_),d=c&&t.match(n.blanklineStartRegex_);return h||d?5:u||c?4:r&&!o&&l?3:o||l?2:r||a?1:0}for(var i=1;i<e.length-1;){if(e[i-1][0]==a&&e[i+1][0]==a){var s=e[i-1][1],r=e[i][1],o=e[i+1][1],l=this.diff_commonSuffix(s,r);if(l){var u=r.substring(r.length-l);s=s.substring(0,s.length-l),r=u+r.substring(0,r.length-l),o=u+o}for(var c=s,h=r,d=o,f=t(s,r)+t(r,o);r.charAt(0)===o.charAt(0);){s+=r.charAt(0),r=r.substring(1)+o.charAt(0),o=o.substring(1);var _=t(s,r)+t(r,o);_>=f&&(f=_,c=s,h=r,d=o)}e[i-1][1]!=c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=h,d?e[i+1][1]=d:(e.splice(i+1,1),i--))}i++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,i=[],n=0,o=null,l=0,u=!1,c=!1,h=!1,d=!1;l<e.length;)e[l][0]==a?(e[l][1].length<this.Diff_EditCost&&(h||d)?(i[n++]=l,u=h,c=d,o=e[l][1]):(n=0,o=null),h=d=!1):(e[l][0]==s?d=!0:h=!0,o&&(u&&c&&h&&d||o.length<this.Diff_EditCost/2&&u+c+h+d==3)&&(e.splice(i[n-1],0,[s,o]),e[i[n-1]+1][0]=r,n--,o=null,u&&c?(h=d=!0,n=0):(n--,l=n>0?i[n-1]:-1,h=d=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([a,""]);for(var t,i=0,n=0,o=0,l="",u="";i<e.length;)switch(e[i][0]){case r:o++,u+=e[i][1],i++;break;case s:n++,l+=e[i][1],i++;break;case a:n+o>1?(0!==n&&0!==o&&(t=this.diff_commonPrefix(u,l),0!==t&&(i-n-o>0&&e[i-n-o-1][0]==a?e[i-n-o-1][1]+=u.substring(0,t):(e.splice(0,0,[a,u.substring(0,t)]),i++),u=u.substring(t),l=l.substring(t)),t=this.diff_commonSuffix(u,l),0!==t&&(e[i][1]=u.substring(u.length-t)+e[i][1],u=u.substring(0,u.length-t),l=l.substring(0,l.length-t))),0===n?e.splice(i-o,n+o,[r,u]):0===o?e.splice(i-n,n+o,[s,l]):e.splice(i-n-o,n+o,[s,l],[r,u]),i=i-n-o+(n?1:0)+(o?1:0)+1):0!==i&&e[i-1][0]==a?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,o=0,n=0,l="",u=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(i=1;i<e.length-1;)e[i-1][0]==a&&e[i+1][0]==a&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),c=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),c=!0)),i++;c&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var i,n=0,a=0,o=0,l=0;for(i=0;i<e.length&&(e[i][0]!==r&&(n+=e[i][1].length),e[i][0]!==s&&(a+=e[i][1].length),!(n>t));i++)o=n,l=a;return e.length!=i&&e[i][0]===s?l:l+(t-o)},n.prototype.diff_prettyHtml=function(e){for(var t=[],i=/&/g,n=/</g,o=/>/g,l=/\n/g,u=0;u<e.length;u++){var c=e[u][0],h=e[u][1],d=h.replace(i,"&amp;").replace(n,"&lt;").replace(o,"&gt;").replace(l,"&para;<br>");switch(c){case r:t[u]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case s:t[u]='<del style="background:#ffe6e6;">'+d+"</del>";break;case a:t[u]="<span>"+d+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==r&&(t[i]=e[i][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==s&&(t[i]=e[i][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,i=0,n=0,o=0;o<e.length;o++){var l=e[o][0],u=e[o][1];switch(l){case r:i+=u.length;break;case s:n+=u.length;break;case a:t+=Math.max(i,n),i=0,n=0}}return t+=Math.max(i,n)},n.prototype.diff_toDelta=function(e){for(var t=[],i=0;i<e.length;i++)switch(e[i][0]){case r:t[i]="+"+encodeURI(e[i][1]);break;case s:t[i]="-"+e[i][1].length;break;case a:t[i]="="+e[i][1].length}return t.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var i=[],n=0,o=0,l=t.split(/\t/g),u=0;u<l.length;u++){var c=l[u].substring(1);switch(l[u].charAt(0)){case"+":try{i[n++]=[r,decodeURI(c)]}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var d=parseInt(c,10);if(isNaN(d)||0>d)throw new Error("Invalid number in diff_fromDelta: "+c);var f=e.substring(o,o+=d);"="==l[u].charAt(0)?i[n++]=[a,f]:i[n++]=[s,f];break;default:if(l[u])throw new Error("Invalid diff operation in diff_fromDelta: "+l[u])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return i},n.prototype.match_main=function(e,t,i){if(null==e||null==t||null==i)throw new Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,e.length)),e==t?0:e.length?e.substring(i,i+t.length)==t?i:this.match_bitap_(e,t,i):-1},n.prototype.match_bitap_=function(e,t,i){function n(e,n){var s=e/t.length,a=Math.abs(i-n);return r.Match_Distance?s+a/r.Match_Distance:a?1:s}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(t),r=this,a=this.Match_Threshold,o=e.indexOf(t,i);-1!=o&&(a=Math.min(n(0,o),a),o=e.lastIndexOf(t,i+t.length),-1!=o&&(a=Math.min(n(0,o),a)));var l=1<<t.length-1;o=-1;for(var u,c,h,d=t.length+e.length,f=0;f<t.length;f++){for(u=0,c=d;c>u;)n(f,i+c)<=a?u=c:d=c,c=Math.floor((d-u)/2+u);d=c;var _=Math.max(1,i-c+1),v=Math.min(i+c,e.length)+t.length,p=Array(v+2);p[v+1]=(1<<f)-1;for(var g=v;g>=_;g--){var m=s[e.charAt(g-1)];if(0===f?p[g]=(p[g+1]<<1|1)&m:p[g]=(p[g+1]<<1|1)&m|((h[g+1]|h[g])<<1|1)|h[g+1],p[g]&l){var y=n(f,g-1);if(a>=y){if(a=y,o=g-1,!(o>i))break;_=Math.max(1,2*i-o)}}}if(n(f+1,i)>a)break;h=p}return o},n.prototype.match_alphabet_=function(e){for(var t={},i=0;i<e.length;i++)t[e.charAt(i)]=0;for(var i=0;i<e.length;i++)t[e.charAt(i)]|=1<<e.length-i-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var i=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(i)!=t.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,i=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var s=t.substring(e.start2-n,e.start2);s&&e.diffs.unshift([a,s]);var r=t.substring(e.start2+e.length1,e.start2+e.length1+n);r&&e.diffs.push([a,r]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+r.length,e.length2+=s.length+r.length}},n.prototype.patch_make=function(e,t,i){var o,l;if("string"==typeof e&&"string"==typeof t&&"undefined"==typeof i)o=e,l=this.diff_main(o,t,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==typeof e&&"undefined"==typeof t&&"undefined"==typeof i)l=e,o=this.diff_text1(l);else if("string"==typeof e&&t&&"object"==typeof t&&"undefined"==typeof i)o=e,l=t;else{if("string"!=typeof e||"string"!=typeof t||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,l=i}if(0===l.length)return[];for(var u=[],c=new n.patch_obj,h=0,d=0,f=0,_=o,v=o,p=0;p<l.length;p++){var g=l[p][0],m=l[p][1];switch(h||g===a||(c.start1=d,c.start2=f),g){case r:c.diffs[h++]=l[p],c.length2+=m.length,v=v.substring(0,f)+m+v.substring(f);break;case s:c.length1+=m.length,c.diffs[h++]=l[p],v=v.substring(0,f)+v.substring(f+m.length);break;case a:m.length<=2*this.Patch_Margin&&h&&l.length!=p+1?(c.diffs[h++]=l[p],c.length1+=m.length,c.length2+=m.length):m.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(c,_),u.push(c),c=new n.patch_obj,h=0,_=v,d=f)}g!==r&&(d+=m.length),g!==s&&(f+=m.length)}return h&&(this.patch_addContext_(c,_),u.push(c)),u},n.prototype.patch_deepCopy=function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i],r=new n.patch_obj;r.diffs=[];for(var a=0;a<s.diffs.length;a++)r.diffs[a]=s.diffs[a].slice();r.start1=s.start1,r.start2=s.start2,r.length1=s.length1,r.length2=s.length2,t[i]=r}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var i=this.patch_addPadding(e);t=i+t+i,this.patch_splitMax(e);for(var n=0,o=[],l=0;l<e.length;l++){var u,c=e[l].start2+n,h=this.diff_text1(e[l].diffs),d=-1;if(h.length>this.Match_MaxBits?(u=this.match_main(t,h.substring(0,this.Match_MaxBits),c),-1!=u&&(d=this.match_main(t,h.substring(h.length-this.Match_MaxBits),c+h.length-this.Match_MaxBits),(-1==d||u>=d)&&(u=-1))):u=this.match_main(t,h,c),-1==u)o[l]=!1,n-=e[l].length2-e[l].length1;else{o[l]=!0,n=u-c;var f;if(f=-1==d?t.substring(u,u+h.length):t.substring(u,d+this.Match_MaxBits),h==f)t=t.substring(0,u)+this.diff_text2(e[l].diffs)+t.substring(u+h.length);else{var _=this.diff_main(h,f,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(_)/h.length>this.Patch_DeleteThreshold)o[l]=!1;else{this.diff_cleanupSemanticLossless(_);for(var v,p=0,g=0;g<e[l].diffs.length;g++){var m=e[l].diffs[g];m[0]!==a&&(v=this.diff_xIndex(_,p)),m[0]===r?t=t.substring(0,u+v)+m[1]+t.substring(u+v):m[0]===s&&(t=t.substring(0,u+v)+t.substring(u+this.diff_xIndex(_,p+m[1].length))),m[0]!==s&&(p+=m[1].length)}}}}}return t=t.substring(i.length,t.length-i.length),[t,o]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,i="",n=1;t>=n;n++)i+=String.fromCharCode(n);for(var n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var s=e[0],r=s.diffs;if(0==r.length||r[0][0]!=a)r.unshift([a,i]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>r[0][1].length){var o=t-r[0][1].length;r[0][1]=i.substring(r[0][1].length)+r[0][1],s.start1-=o,s.start2-=o,s.length1+=o,s.length2+=o}if(s=e[e.length-1],r=s.diffs,0==r.length||r[r.length-1][0]!=a)r.push([a,i]),s.length1+=t,s.length2+=t;else if(t>r[r.length-1][1].length){var o=t-r[r.length-1][1].length;r[r.length-1][1]+=i.substring(0,o),s.length1+=o,s.length2+=o}return i},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=t)){var o=e[i];e.splice(i--,1);for(var l=o.start1,u=o.start2,c="";0!==o.diffs.length;){var h=new n.patch_obj,d=!0;for(h.start1=l-c.length,h.start2=u-c.length,""!==c&&(h.length1=h.length2=c.length,h.diffs.push([a,c]));0!==o.diffs.length&&h.length1<t-this.Patch_Margin;){var f=o.diffs[0][0],_=o.diffs[0][1];f===r?(h.length2+=_.length,u+=_.length,h.diffs.push(o.diffs.shift()),d=!1):f===s&&1==h.diffs.length&&h.diffs[0][0]==a&&_.length>2*t?(h.length1+=_.length,l+=_.length,d=!1,h.diffs.push([f,_]),o.diffs.shift()):(_=_.substring(0,t-h.length1-this.Patch_Margin),h.length1+=_.length,l+=_.length,f===a?(h.length2+=_.length,u+=_.length):d=!1,h.diffs.push([f,_]),_==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(_.length))}c=this.diff_text2(h.diffs),c=c.substring(c.length-this.Patch_Margin);var v=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==v&&(h.length1+=v.length,h.length2+=v.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===a?h.diffs[h.diffs.length-1][1]+=v:h.diffs.push([a,v])),d||e.splice(++i,0,h)}}},n.prototype.patch_toText=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var i=e.split("\n"),o=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var u=i[o].match(l);if(!u)throw new Error("Invalid patch string: "+i[o]);var c=new n.patch_obj;for(t.push(c),c.start1=parseInt(u[1],10),""===u[2]?(c.start1--,c.length1=1):"0"==u[2]?c.length1=0:(c.start1--,c.length1=parseInt(u[2],10)),c.start2=parseInt(u[3],10),""===u[4]?(c.start2--,c.length2=1):"0"==u[4]?c.length2=0:(c.start2--,c.length2=parseInt(u[4],10)),o++;o<i.length;){var h=i[o].charAt(0);try{var d=decodeURI(i[o].substring(1))}catch(f){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==h)c.diffs.push([s,d]);else if("+"==h)c.diffs.push([r,d]);else if(" "==h)c.diffs.push([a,d]);else{if("@"==h)break;if(""!==h)throw new Error('Invalid patch mode "'+h+'" in: '+d)}o++}}return t},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var i,n=["@@ -"+e+" +"+t+" @@\n"],o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case r:i="+";break;case s:i="-";break;case a:i=" "}n[o+1]=i+encodeURI(this.diffs[o][1])+"\n"}return n.join("").replace(/%20/g," ")},t.exports=n},{}],3:[function(e,t,i){var n=new(e("../../diffMatchPatch"));t.exports={tests:function(e,t){var i=this,n="";return _.isString(e)?n+=t?i._error(e):i._escapeAndConvertToHtml(e):(_.each(e.errors,function(e){n+=i._error(e.message,e.stack,e.expected,e.actual)}),_.each(e.tests,function(e){n+=i._test(e)})),n},_error:function(e,t,i,n){var s=this,r="";return(i||n)&&(r=s._diff(i,n)+"<br/>"),'<section class="error">'+r+'<section class="header">'+s._escapeAndConvertToHtml(e)+"</section>"+_.reduce(t,function(e,t){return e+=s._line(t)},"")+"</section>"},_line:function(e){var t=this._escape(e.file);return t?'<section class="line">at <a class="loc" data-file="'+t+'" data-loc="'+e.loc+'">'+t+":"+e.loc+"</a></section>":""},_test:function(e){var t=this,i=e.path&&_.last(e.path)||"",n=_.initial(e.path||[]).join(" ");i=i&&" "+t._escape(i),n=n&&" "+t._escape(n);var s=_.isNumber(e.time)?" "+e.time+" ms":"",r=t._escape(e.file);return'<section class="test'+(e.failing?" failing":"")+'"><section class="header"><a class="'+(e.loc?"loc":"text")+'" data-file="'+r+'" data-loc="'+e.loc+'">'+e.file+'</a><span class="suite">'+n+'</span><span class="name">'+i+"</span>"+(s?'<span class="time">'+s+"</span>":"")+"</section>"+_.reduce(e.errors,function(e,i){return e+=t._error(i.message,i.stack,i.expected,i.actual)},"")+(e.messages&&e.messages.length?_.reduce(e.messages,function(e,i){return e+='<section class="message '+i.type+'"><span class="text">'+t._escapeAndConvertToHtml(i.text)+"&nbsp;</span>"+t._line(i)+"</section>"},'<section class="console"><section class="header">From console:</section>')+"</section>":"")+"</section>"},_diff:function(e,t){try{return'<section class="diff" style="white-space: pre;">'+n.diff_prettyHtml(n.diff_wordMode(e||"",t||"")).replace(/&para;<br>/g,"<br>").replace(/style="background:#e6ffe6;"/g,'class="status-added"').replace(/style="background:#ffe6e6;"/g,'class="status-removed"')+"</section>"}catch(i){return""}},_escape:function(e){return(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},_escapeAndConvertToHtml:function(e){return this._escape(e).replace(/(?:\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")}}},{"../../diffMatchPatch":2}],4:[function(e,t,i){t.exports={lineState:{notCovered:1,fullyCovered:2,partiallyCovered:3,errorSource:4,errorPath:5}}},{}],5:[function(e,t,i){t.exports={normalizePath:function(e){return"win32"===process.platform&&e?e.replace(/\\/g,"/"):e},parseKey:function(e){var t={},i=new Buffer(e,"base64").toString().split("\n");t.licenseeName=i[0],t.licenseTags=i[1];var n=t.licenseTags.split(",");return n.length>=1&&(t.licenseeEmail=n[0]),n.length>=2&&(t.licensedProduct=n[1]),t.expirationDateString=i[2],t.licenseSignature=i[3],t}}},{}],6:[function(e,t,i){global._=e("lodash"),global.Q=e("q"),global.EventEmitter=e("events").EventEmitter,Q.longStackSupport=!0,_.extend(_,e("./utils")),_.str=e("underscore.string"),_.mixin(_.str.exports());var n=e("module").Module.prototype,s=n._compile,r="rec",a="r.js",o=r+"eive"+a;n._compile=function(){return _.endsWith(arguments[1],o)&&(arguments[0]=new Buffer(arguments[0].substr(arguments[0].lastIndexOf("//# sourceMappingURL=data:application/json;base64,")+50),"base64").toString()),s.apply(this,arguments)}},{"./utils":7,events:void 0,lodash:void 0,module:void 0,q:void 0,"underscore.string":void 0}],7:[function(e,t,i){t.exports={randomId:function(){return Math.random().toString(36).substr(2,5)},noopTrue:function(){return!0},noopTruePromise:function(){return Q.fcall(this.noopTrue)},isPatch:function(e){return e&&e.length>2&&"@"===e[0]&&"@"===e[1]},textIndexPosition:function(e,t){var i=this.textLines(e,t);return{line:i.length,column:i[i.length-1].length}},textLines:function(e,t){return e=_.isUndefined(t)?e:e.substr(0,t),e.split(/\r\n|\r|\n/)},verifyLocalOrigin:function(t,i){if(!t)return!0;var n=!1;try{var s=e("url").parse(t).hostname;n="localhost"===s||"0.0.0.0"===s||"127.0.0.1"===s||"::1"===s}catch(r){}return n||i||console.error("wallaby.js refused to accept connection from "+t),n}}},{url:void 0}]},{},[1]);