/*
 * Wallaby.js - v1.0.279
 * http://wallabyjs.com
 * Copyright (c) 2014-2016 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function(){function e(t){var i=e.resolve(t),n=e.modules[i];if(!n)throw new Error('failed to require "'+t+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,e.relative(i))),n.exports}function t(){for(var e=(new n).getTime();h.length&&(new n).getTime()-e<100;)h.shift()();c=h.length?s(t,0):null}e.modules={},e.resolve=function(t){var i=t,n=t+".js",s=t+"/index.js";return e.modules[n]&&n||e.modules[s]&&s||i},e.register=function(t,i){e.modules[t]=i},e.relative=function(t){return function(i){if("."!=i.charAt(0))return e(i);var n=t.split("/"),s=i.split("/");n.pop();for(var r=0;r<s.length;r++){var a=s[r];".."==a?n.pop():"."!=a&&n.push(a)}return e(n.join("/"))}},e.register("browser/debug.js",function(e,t,i){e.exports=function(e){return function(){}}}),e.register("browser/diff.js",function(e,t,i){var n=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t}function i(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var n=function(e){this.ignoreWhitespace=e};n.prototype={diff:function(t,i){if(i===t)return[{value:i}];if(!i)return[{value:t,removed:!0}];if(!t)return[{value:i,added:!0}];i=this.tokenize(i),t=this.tokenize(t);var n=i.length,s=t.length,r=n+s,a=[{newPos:-1,components:[]}],o=this.extractCommon(a[0],i,t,0);if(a[0].newPos+1>=n&&o+1>=s)return a[0].components;for(var l=1;r>=l;l++)for(var u=-1*l;l>=u;u+=2){var c,h=a[u-1],d=a[u+1];o=(d?d.newPos:0)-u,h&&(a[u-1]=void 0);var f=h&&h.newPos+1<n,_=d&&o>=0&&s>o;if(f||_){!f||_&&h.newPos<d.newPos?(c=e(d),this.pushComponent(c.components,t[o],void 0,!0)):(c=e(h),c.newPos++,this.pushComponent(c.components,i[c.newPos],!0,void 0));var o=this.extractCommon(c,i,t,u);if(c.newPos+1>=n&&o+1>=s)return c.components;a[u]=c}else a[u]=void 0}},pushComponent:function(e,t,i,n){var s=e[e.length-1];s&&s.added===i&&s.removed===n?e[e.length-1]={value:this.join(s.value,t),added:i,removed:n}:e.push({value:t,added:i,removed:n})},extractCommon:function(e,t,i,n){for(var s=t.length,r=i.length,a=e.newPos,o=a-n;s>a+1&&r>o+1&&this.equals(t[a+1],i[o+1]);)a++,o++,this.pushComponent(e.components,t[a],void 0,void 0);return e.newPos=a,o},equals:function(e,t){var i=/\S/;return!this.ignoreWhitespace||i.test(e)||i.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var s=new n,r=new n(!0),a=new n;r.tokenize=a.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var o=new n(!0);o.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new n;return l.tokenize=function(e){return e.split(/^/m)},{Diff:n,diffChars:function(e,t){return s.diff(e,t)},diffWords:function(e,t){return r.diff(e,t)},diffWordsWithSpace:function(e,t){return a.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return o.diff(e,t)},createPatch:function(e,t,i,n,s){function r(e){return e.map(function(e){return" "+e})}function a(e,t,i){var n=u[u.length-2],s=t===u.length-2,r=t===u.length-3&&(i.added!==n.added||i.removed!==n.removed);/\n$/.test(i.value)||!s&&!r||e.push("\\ No newline at end of file")}var o=[];o.push("Index: "+e),o.push("==================================================================="),o.push("--- "+e+("undefined"==typeof n?"":"	"+n)),o.push("+++ "+e+("undefined"==typeof s?"":"	"+s));var u=l.diff(t,i);u[u.length-1].value||u.pop(),u.push({value:"",lines:[]});for(var c=0,h=0,d=[],f=1,_=1,v=0;v<u.length;v++){var p=u[v],g=p.lines||p.value.replace(/\n$/,"").split("\n");if(p.lines=g,p.added||p.removed){if(!c){var m=u[v-1];c=f,h=_,m&&(d=r(m.lines.slice(-4)),c-=d.length,h-=d.length)}d.push.apply(d,g.map(function(e){return(p.added?"+":"-")+e})),a(d,v,p),p.added?_+=g.length:f+=g.length}else{if(c)if(g.length<=8&&v<u.length-2)d.push.apply(d,r(g));else{var y=Math.min(g.length,4);o.push("@@ -"+c+","+(f-c+y)+" +"+h+","+(_-h+y)+" @@"),o.push.apply(o,d),o.push.apply(o,r(g.slice(0,y))),g.length<=4&&a(o,v,p),c=0,h=0,d=[]}f+=g.length,_+=g.length}}return o.join("\n")+"\n"},applyPatch:function(e,t){for(var i=t.split("\n"),n=[],s=!1,r=!1,a="I"===i[0][0]?4:0;a<i.length;a++)if("@"===i[a][0]){var o=i[a].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);n.unshift({start:o[3],oldlength:o[2],oldlines:[],newlength:o[4],newlines:[]})}else"+"===i[a][0]?n[0].newlines.push(i[a].substr(1)):"-"===i[a][0]?n[0].oldlines.push(i[a].substr(1)):" "===i[a][0]?(n[0].newlines.push(i[a].substr(1)),n[0].oldlines.push(i[a].substr(1))):"\\"===i[a][0]&&("+"===i[a-1][0]?s=!0:"-"===i[a-1][0]&&(r=!0));for(var l=e.split("\n"),a=n.length-1;a>=0;a--){for(var u=n[a],c=0;c<u.oldlength;c++)if(l[u.start-1+c]!==u.oldlines[c])return!1;Array.prototype.splice.apply(l,[u.start-1,+u.oldlength].concat(u.newlines))}if(s)for(;!l[l.length-1];)l.pop();else r&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];s.added?t.push("<ins>"):s.removed&&t.push("<del>"),t.push(i(s.value)),s.added?t.push("</ins>"):s.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,i=[],n=0;n<e.length;n++)t=e[n],i.push([t.added?1:t.removed?-1:0,t.value]);return i}}}();"undefined"!=typeof e&&(e.exports=n)}),e.register("browser/escape-string-regexp.js",function(e,t,i){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}}),e.register("browser/events.js",function(e,t,i){function n(e){return"[object Array]"=={}.toString.call(e)}function s(){}t.EventEmitter=s,s.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?n(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},s.prototype.addListener=s.prototype.on,s.prototype.once=function(e,t){function i(){n.removeListener(e,i),t.apply(this,arguments)}var n=this;return i.listener=t,this.on(e,i),this},s.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var i=this.$events[e];if(n(i)){for(var s=-1,r=0,a=i.length;a>r;r++)if(i[r]===t||i[r].listener&&i[r].listener===t){s=r;break}if(0>s)return this;i.splice(s,1),i.length||delete this.$events[e]}else(i===t||i.listener&&i.listener===t)&&delete this.$events[e]}return this},s.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},s.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),n(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},s.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var i=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,i);else{if(!n(t))return!1;for(var s=t.slice(),r=0,a=s.length;a>r;r++)s[r].apply(this,i)}return!0}}),e.register("browser/fs.js",function(e,t,i){}),e.register("browser/glob.js",function(e,t,i){}),e.register("browser/path.js",function(e,t,i){}),e.register("browser/progress.js",function(e,t,i){function n(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=n,n.prototype.size=function(e){return this._size=e,this},n.prototype.text=function(e){return this._text=e,this},n.prototype.fontSize=function(e){return this._fontSize=e,this},n.prototype.font=function(e){return this._font=e,this},n.prototype.update=function(e){return this.percent=e,this},n.prototype.draw=function(e){try{var t=Math.min(this.percent,100),i=this._size,n=i/2,s=n,r=n,a=n-1,o=this._fontSize;e.font=o+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,i,i),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(s,r,a,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(s,r,a-1,0,l,!0),e.stroke();var u=this._text||(0|t)+"%",c=e.measureText(u).width;e.fillText(u,s-c/2+1,r+o/2-1)}catch(h){}return this}}),e.register("browser/tty.js",function(e,t,n){t.isatty=function(){return!0},t.getWindowSize=function(){return"innerHeight"in i?[i.innerHeight,i.innerWidth]:[640,480]}}),e.register("context.js",function(e,t,i){function n(){}e.exports=n,n.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},n.prototype.timeout=function(e){return 0===arguments.length?this.runnable().timeout():(this.runnable().timeout(e),this)},n.prototype.enableTimeouts=function(e){return this.runnable().enableTimeouts(e),this},n.prototype.slow=function(e){return this.runnable().slow(e),this},n.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_runnable"!=e&&"test"!=e?t:void 0},2)}}),e.register("hook.js",function(e,t,i){function n(e,t){r.call(this,e,t),this.type="hook"}function s(){}var r=i("./runnable");e.exports=n,s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,i){var n=i("../suite"),s=i("../test"),r=(i("../utils"),i("browser/escape-string-regexp"));e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,a){e.before=function(e,i){t[0].beforeAll(e,i)},e.after=function(e,i){t[0].afterAll(e,i)},e.beforeEach=function(e,i){t[0].beforeEach(e,i)},e.afterEach=function(e,i){t[0].afterEach(e,i)},e.describe=e.context=function(e,s){var r=n.create(t[0],e);return r.file=i,t.unshift(r),s.call(r),t.shift(),r},e.xdescribe=e.xcontext=e.describe.skip=function(e,i){var s=n.create(t[0],e);s.pending=!0,t.unshift(s),i.call(s),t.shift()},e.describe.only=function(t,i){var n=e.describe(t,i);return a.grep(n.fullTitle()),n},e.it=e.specify=function(e,n){var r=t[0];r.pending&&(n=null);var a=new s(e,n);return a.file=i,r.addTest(a),a},e.it.only=function(t,i){var n=e.it(t,i),s="^"+r(n.fullTitle())+"$";return a.grep(new RegExp(s)),n},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})}}),e.register("interfaces/exports.js",function(e,t,i){var n=i("../suite"),s=i("../test");e.exports=function(e){function t(e,r){var a;for(var o in e)if("function"==typeof e[o]){var l=e[o];switch(o){case"before":i[0].beforeAll(l);break;case"after":i[0].afterAll(l);break;case"beforeEach":i[0].beforeEach(l);break;case"afterEach":i[0].afterEach(l);break;default:var u=new s(o,l);u.file=r,i[0].addTest(u)}}else a=n.create(i[0],o),i.unshift(a),t(e[o]),i.shift()}var i=[e];e.on("require",t)}}),e.register("interfaces/index.js",function(e,t,i){t.bdd=i("./bdd"),t.tdd=i("./tdd"),t.qunit=i("./qunit"),t.exports=i("./exports")}),e.register("interfaces/qunit.js",function(e,t,i){var n=i("../suite"),s=i("../test"),r=i("browser/escape-string-regexp");i("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,a){e.before=function(e,i){t[0].beforeAll(e,i)},e.after=function(e,i){t[0].afterAll(e,i)},e.beforeEach=function(e,i){t[0].beforeEach(e,i)},e.afterEach=function(e,i){t[0].afterEach(e,i)},e.suite=function(e){t.length>1&&t.shift();var s=n.create(t[0],e);return s.file=i,t.unshift(s),s},e.suite.only=function(t,i){var n=e.suite(t,i);a.grep(n.fullTitle())},e.test=function(e,n){var r=new s(e,n);return r.file=i,t[0].addTest(r),r},e.test.only=function(t,i){var n=e.test(t,i),s="^"+r(n.fullTitle())+"$";a.grep(new RegExp(s))},e.test.skip=function(t){e.test(t)}})}}),e.register("interfaces/tdd.js",function(e,t,i){var n=i("../suite"),s=i("../test"),r=i("browser/escape-string-regexp");i("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,a){e.setup=function(e,i){t[0].beforeEach(e,i)},e.teardown=function(e,i){t[0].afterEach(e,i)},e.suiteSetup=function(e,i){t[0].beforeAll(e,i)},e.suiteTeardown=function(e,i){t[0].afterAll(e,i)},e.suite=function(e,s){var r=n.create(t[0],e);return r.file=i,t.unshift(r),s.call(r),t.shift(),r},e.suite.skip=function(e,i){var s=n.create(t[0],e);s.pending=!0,t.unshift(s),i.call(s),t.shift()},e.suite.only=function(t,i){var n=e.suite(t,i);a.grep(n.fullTitle())},e.test=function(e,n){var r=t[0];r.pending&&(n=null);var a=new s(e,n);return a.file=i,r.addTest(a),a},e.test.only=function(t,i){var n=e.test(t,i),s="^"+r(n.fullTitle())+"$";a.grep(new RegExp(s))},e.test.skip=function(t){e.test(t)}})}}),e.register("mocha.js",function(e,t,n){function s(e){return __dirname+"/../images/"+e+".png"}function a(e){e=e||{},this.files=[],this.options=e,this.grep(e.grep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter),null!=e.timeout&&this.timeout(e.timeout),this.useColors(e.useColors),null!==e.enableTimeouts&&this.enableTimeouts(e.enableTimeouts),e.slow&&this.slow(e.slow),this.suite.on("pre-require",function(e){t.afterEach=e.afterEach||e.teardown,t.after=e.after||e.suiteTeardown,t.beforeEach=e.beforeEach||e.setup,t.before=e.before||e.suiteSetup,t.describe=e.describe||e.suite,t.it=e.it||e.test,t.setup=e.setup||e.beforeEach,t.suiteSetup=e.suiteSetup||e.before,t.suiteTeardown=e.suiteTeardown||e.after,t.suite=e.suite||e.describe,t.teardown=e.teardown||e.afterEach,t.test=e.test||e.it})}var o=n("browser/path"),l=n("browser/escape-string-regexp"),u=n("./utils");if(t=e.exports=a,"undefined"!=typeof r&&"function"==typeof r.cwd){var c=o.join,h=r.cwd();e.paths.push(h,c(h,"node_modules"))}t.utils=u,t.interfaces=n("./interfaces"),t.reporters=n("./reporters"),t.Runnable=n("./runnable"),t.Context=n("./context"),t.Runner=n("./runner"),t.Suite=n("./suite"),t.Hook=n("./hook"),t.Test=n("./test"),a.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},a.prototype.addFile=function(e){return this.files.push(e),this},a.prototype.reporter=function(e){if("function"==typeof e)this._reporter=e;else{e=e||"spec";var t;try{t=n("./reporters/"+e)}catch(i){}if(!t)try{t=n(e)}catch(i){}if(t||"teamcity"!==e||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!t)throw new Error('invalid reporter "'+e+'"');this._reporter=t}return this},a.prototype.ui=function(e){if(e=e||"bdd",this._ui=t.interfaces[e],!this._ui)try{this._ui=n(e)}catch(i){}if(!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},a.prototype.loadFiles=function(e){var t=this,s=this.suite,r=this.files.length;this.files.forEach(function(a){a=o.resolve(a),s.emit("pre-require",i,a,t),s.emit("require",n(a),a,t),s.emit("post-require",i,a,t),--r||e&&e()})},a.prototype._growl=function(e,t){var i=n("growl");e.on("end",function(){var n=t.stats;if(n.failures){var r=n.failures+" of "+e.total+" tests failed";i(r,{name:"mocha",title:"Failed",image:s("error")})}else i(n.passes+" tests passed in "+n.duration+"ms",{name:"mocha",title:"Passed",image:s("ok")})})},a.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(l(e)):e,this},a.prototype.invert=function(){return this.options.invert=!0,this},a.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=!!e,this},a.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},a.prototype.growl=function(){return this.options.growl=!0,this},a.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},a.prototype.useColors=function(e){return this.options.useColors=arguments.length&&void 0!=e?e:!0,this},a.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=arguments.length&&void 0!=e?e:!1,this},a.prototype.timeout=function(e){return this.suite.timeout(e),this},a.prototype.slow=function(e){return this.suite.slow(e),this},a.prototype.enableTimeouts=function(e){return this.suite.enableTimeouts(arguments.length&&void 0!==e?e:!0),this},a.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},a.prototype.noHighlighting=function(){return this.options.noHighlighting=!0,this},a.prototype.run=function(e){this.files.length&&this.loadFiles();var i=this.suite,n=this.options;n.files=this.files;var s=new t.Runner(i),r=new this._reporter(s,n);return s.ignoreLeaks=!1!==n.ignoreLeaks,s.asyncOnly=n.asyncOnly,n.grep&&s.grep(n.grep,n.invert),n.globals&&s.globals(n.globals),n.growl&&this._growl(s,r),t.reporters.Base.useColors=n.useColors,t.reporters.Base.inlineDiffs=n.useInlineDiffs,s.run(e)}}),e.register("ms.js",function(e,t,i){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"y":return i*h;case"days":case"day":case"d":return i*c;case"hours":case"hour":case"h":return i*u;case"minutes":case"minute":case"m":return i*l;case"seconds":case"second":case"s":return i*o;case"ms":return i}}}function s(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function r(e){return a(e,c,"day")||a(e,u,"hour")||a(e,l,"minute")||a(e,o,"second")||e+" ms"}function a(e,t,i){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var o=1e3,l=60*o,u=60*l,c=24*u,h=365.25*c;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?r(e):s(e)}}),e.register("reporters/base.js",function(e,t,n){function s(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},i=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new g}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(e){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var i=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>i?"medium":"fast",t.passes++}),e.on("fail",function(e,n){t.failures=t.failures||0,t.failures++,e.err=n,i.push(e)}),e.on("end",function(){t.end=new g,t.duration=new g-t.start}),e.on("pending",function(){t.pending++}))}function a(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function o(e,t){var i=u(e,"WordsWithSpace",t),n=i.split("\n");if(n.length>4){var s=String(n.length).length;i=n.map(function(e,t){return a(++t,s)+" | "+e}).join("\n")}return i="\n"+y("diff removed","actual")+" "+y("diff added","expected")+"\n\n"+i+"\n",i=i.replace(/^/gm,"      ")}function l(e,t){function i(e){return t&&(e=c(e)),"+"===e[0]?s+h("diff added",e):"-"===e[0]?s+h("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:s+e}function n(e){return null!=e}var s="      ";msg=_.createPatch("string",e.actual,e.expected);var r=msg.split("\n").splice(4);return"\n      "+h("diff added","+ expected")+" "+h("diff removed","- actual")+"\n\n"+r.map(i).filter(n).join("\n")}function u(e,t,i){var n=i?c(e.actual):e.actual,s=i?c(e.expected):e.expected;return _["diff"+t](n,s).map(function(e){return e.added?h("diff added",e.value):e.removed?h("diff removed",e.value):e.value}).join("")}function c(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function h(e,t){return t.split("\n").map(function(t){return y(e,t)}).join("\n")}function d(e,t){return e=Object.prototype.toString.call(e),t=Object.prototype.toString.call(t),e==t}var f=n("browser/tty"),_=n("browser/diff"),v=n("../ms"),p=n("../utils"),g=i.Date,m=(i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval,f.isatty(1)&&f.isatty(2));t=e.exports=s,t.useColors=m||void 0!==r.env.MOCHA_COLORS,t.inlineDiffs=!1,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"✓",err:"✖",dot:"․"},"win32"==r.platform&&(t.symbols.ok="√",t.symbols.err="×",t.symbols.dot=".");var y=t.color=function(e,i){return t.useColors?"["+t.colors[e]+"m"+i+"[0m":i};t.window={width:m?r.stdout.getWindowSize?r.stdout.getWindowSize(1)[0]:f.getWindowSize()[1]:75},t.cursor={hide:function(){m&&r.stdout.write("[?25l")},show:function(){m&&r.stdout.write("[?25h")},deleteLine:function(){m&&r.stdout.write("[2K")},beginningOfLine:function(){m&&r.stdout.write("[0G")},CR:function(){m?(t.cursor.deleteLine(),t.cursor.beginningOfLine()):r.stdout.write("\r")}},t.list=function(e){console.error(),e.forEach(function(e,i){var n=y("error title","  %s) %s:\n")+y("error message","     %s")+y("error stack","\n%s\n"),s=e.err,r=s.message||"",a=s.stack||r,u=a.indexOf(r)+r.length,c=a.slice(0,u),h=s.actual,f=s.expected,_=!0;if(s.uncaught&&(c="Uncaught "+c),s.showDiff&&d(h,f)&&(_=!1,s.actual=h=p.stringify(h),s.expected=f=p.stringify(f)),s.showDiff&&"string"==typeof h&&"string"==typeof f){n=y("error title","  %s) %s:\n%s")+y("error stack","\n%s\n");var v=r.match(/^([^:]+): expected/);c="\n      "+y("error message",v?v[1]:c),c+=t.inlineDiffs?o(s,_):l(s,_)}a=a.slice(u?u+1:u).replace(/^/gm,"  "),console.error(n,i+1,e.fullTitle(),c,a)})},s.prototype.epilogue=function(){var e,t=this.stats;console.log(),e=y("bright pass"," ")+y("green"," %d passing")+y("light"," (%s)"),console.log(e,t.passes||0,v(t.duration)),t.pending&&(e=y("pending"," ")+y("pending"," %d pending"),console.log(e,t.pending)),t.failures&&(e=y("fail","  %d failing"),console.error(e,t.failures),s.list(this.failures),console.error()),console.log()}}),e.register("reporters/doc.js",function(e,t,i){function n(e){function t(){return Array(i).join("  ")}s.call(this,e);var i=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++i,console.log('%s<section class="suite">',t()),++i,console.log("%s<h1>%s</h1>",t(),r.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--i,console.log("%s</section>",t()),--i)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),r.escape(e.title));var i=r.escape(r.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),i)}),e.on("fail",function(e,i){console.log('%s  <dt class="error">%s</dt>',t(),r.escape(e.title));var n=r.escape(r.clean(e.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',t(),n),console.log('%s  <dd class="error">%s</dd>',t(),r.escape(i))})}var s=i("./base"),r=i("../utils");t=e.exports=n}),e.register("reporters/dot.js",function(e,t,i){function n(e){a.call(this,e);var t=this,i=(this.stats,.75*a.window.width|0),n=-1;e.on("start",function(){r.stdout.write("\n  ")}),e.on("pending",function(e){++n%i==0&&r.stdout.write("\n  "),r.stdout.write(o("pending",a.symbols.dot))}),e.on("pass",function(e){++n%i==0&&r.stdout.write("\n  "),"slow"==e.speed?r.stdout.write(o("bright yellow",a.symbols.dot)):r.stdout.write(o(e.speed,a.symbols.dot))}),e.on("fail",function(e,t){++n%i==0&&r.stdout.write("\n  "),r.stdout.write(o("fail",a.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function s(){}var a=i("./base"),o=a.color;t=e.exports=n,s.prototype=a.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/html-cov.js",function(e,t,i){function n(e){var t=i("jade"),n=__dirname+"/templates/coverage.jade",l=o.readFileSync(n,"utf8"),u=t.compile(l,{filename:n}),c=this;a.call(this,e,!1),e.on("end",function(){r.stdout.write(u({cov:c.cov,coverageClass:s}))})}function s(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var a=i("./json-cov"),o=i("browser/fs");t=e.exports=n}),e.register("reporters/html.js",function(e,t,n){function s(e){h.call(this,e);var t,i,n=this,s=this.stats,g=(e.total,a(p)),m=g.getElementsByTagName("li"),y=m[1].getElementsByTagName("em")[0],b=m[1].getElementsByTagName("a")[0],T=m[2].getElementsByTagName("em")[0],w=m[2].getElementsByTagName("a")[0],R=m[3].getElementsByTagName("em")[0],F=g.getElementsByTagName("canvas")[0],j=a('<ul id="mocha-report"></ul>'),C=[j],E=document.getElementById("mocha");if(F.getContext){var I=window.devicePixelRatio||1;F.style.width=F.width,F.style.height=F.height,F.width*=I,F.height*=I,i=F.getContext("2d"),i.scale(I,I),t=new f}return E?(c(b,"click",function(){l();var e=/pass/.test(j.className)?"":" pass";j.className=j.className.replace(/fail|pass/g,"")+e,j.className.trim()&&o("test pass")}),c(w,"click",function(){l();var e=/fail/.test(j.className)?"":" fail";j.className=j.className.replace(/fail|pass/g,"")+e,j.className.trim()&&o("test fail")}),E.appendChild(g),E.appendChild(j),t&&t.size(40),e.on("suite",function(e){if(!e.root){var t=n.suiteURL(e),i=a('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,_(e.title));C[0].appendChild(i),C.unshift(document.createElement("ul")),i.appendChild(C[0])}}),e.on("suite end",function(e){e.root||C.shift()}),e.on("fail",function(t,i){"hook"==t.type&&e.emit("test end",t)}),void e.on("test end",function(e){var r=s.tests/this.total*100|0;t&&t.update(r).draw(i);var o=new v-s.start;if(u(y,s.passes),u(T,s.failures),u(R,(o/1e3).toFixed(2)),"passed"==e.state)var l=n.testURL(e),h=a('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">‣</a></h2></li>',e.speed,e.title,e.duration,l);else if(e.pending)var h=a('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var h=a('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">‣</a></h2></li>',e.title,encodeURIComponent(e.fullTitle())),f=e.err.stack||e.err.toString();~f.indexOf(e.err.message)||(f=e.err.message+"\n"+f),"[object Error]"==f&&(f=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(f+="\n("+e.err.sourceURL+":"+e.err.line+")"),h.appendChild(a('<pre class="error">%e</pre>',f))}if(!e.pending){var _=h.getElementsByTagName("h2")[0];c(_,"click",function(){p.style.display="none"==p.style.display?"block":"none"});var p=a("<pre><code>%e</code></pre>",d.clean(e.fn.toString()));h.appendChild(p),p.style.display="none"}C[0]&&C[0].appendChild(h)})):r("#mocha div missing, add it to your document")}function r(e){document.body.appendChild(a('<div id="mocha-error">%s</div>',e))}function a(e){var t=arguments,i=document.createElement("div"),n=1;return i.innerHTML=e.replace(/%([se])/g,function(e,i){switch(i){case"s":return String(t[n++]);case"e":return _(t[n++])}}),i.firstChild}function o(e){for(var t=document.getElementsByClassName("suite"),i=0;i<t.length;i++){var n=t[i].getElementsByClassName(e);0==n.length&&(t[i].className+=" hidden")}}function l(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function u(e,t){e.textContent?e.textContent=t:e.innerText=t}function c(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}var h=n("./base"),d=n("../utils"),f=n("../browser/progress"),_=d.escape,v=i.Date;i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval;t=e.exports=s;var p='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>',g=function(e){var t=window.location.search;return(t?t+"&":"?")+"grep="+encodeURIComponent(e)};s.prototype.suiteURL=function(e){return g(e.fullTitle())},s.prototype.testURL=function(e){return g(e.fullTitle())}}),e.register("reporters/index.js",function(e,t,i){t.Base=i("./base"),t.Dot=i("./dot"),t.Doc=i("./doc"),t.TAP=i("./tap"),t.JSON=i("./json"),t.HTML=i("./html"),t.List=i("./list"),t.Min=i("./min"),t.Spec=i("./spec"),t.Nyan=i("./nyan"),t.XUnit=i("./xunit"),t.Markdown=i("./markdown"),t.Progress=i("./progress"),t.Landing=i("./landing"),t.JSONCov=i("./json-cov"),t.HTMLCov=i("./html-cov"),t.JSONStream=i("./json-stream")}),e.register("reporters/json-cov.js",function(e,t,n){function s(e,t){var n=this,t=1==arguments.length?!0:t;u.call(this,e);var s=[],o=[],c=[];e.on("test end",function(e){s.push(e)}),e.on("pass",function(e){c.push(e)}),e.on("fail",function(e){o.push(e)}),e.on("end",function(){var e=i._$jscoverage||{},u=n.cov=a(e);u.stats=n.stats,u.tests=s.map(l),u.failures=o.map(l),u.passes=c.map(l),t&&r.stdout.write(JSON.stringify(u,null,2))})}function a(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var i in e){var n=o(i,e[i]);t.files.push(n),t.hits+=n.hits,t.misses+=n.misses,t.sloc+=n.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function o(e,t){var i={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,n){n++,0===t[n]?(i.misses++,i.sloc++):void 0!==t[n]&&(i.hits++,i.sloc++),i.source[n]={source:e,coverage:void 0===t[n]?"":t[n]}}),i.coverage=i.hits/i.sloc*100,i}function l(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var u=n("./base");t=e.exports=s}),e.register("reporters/json-stream.js",function(e,t,i){function n(e){a.call(this,e);var t=this,i=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:i}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",s(e)]))}),e.on("fail",function(e,t){e=s(e),e.err=t.message,console.log(JSON.stringify(["fail",e]))}),e.on("end",function(){r.stdout.write(JSON.stringify(["end",t.stats]))})}function s(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var a=i("./base");a.color;t=e.exports=n}),e.register("reporters/json.js",function(e,t,i){function n(e){var t=this;o.call(this,e);var i=[],n=[],a=[],l=[];e.on("test end",function(e){i.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){a.push(e)}),e.on("pending",function(e){n.push(e)}),e.on("end",function(){var o={stats:t.stats,tests:i.map(s),pending:n.map(s),failures:a.map(s),passes:l.map(s)};e.testResults=o,r.stdout.write(JSON.stringify(o,null,2))})}function s(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,err:a(e.err||{})}}function a(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(i){t[i]=e[i]},e),t}var o=i("./base");o.cursor,o.color;t=e.exports=n}),e.register("reporters/landing.js",function(e,t,i){function n(e){function t(){var e=Array(n).join("-");return"  "+l("runway",e)}a.call(this,e);var i=this,n=(this.stats,.75*a.window.width|0),s=e.total,u=r.stdout,c=l("plane","✈"),h=-1,d=0;e.on("start",function(){u.write("\n\n\n  "),o.hide()}),e.on("test end",function(e){var i=-1==h?n*++d/s|0:h;"failed"==e.state&&(c=l("plane crash","✈"),h=i),u.write("["+(n+1)+"D[2A"),u.write(t()),u.write("\n  "),u.write(l("runway",Array(i).join("⋅"))),u.write(c),u.write(l("runway",Array(n-i).join("⋅")+"\n")),u.write(t()),u.write("[0m")}),e.on("end",function(){o.show(),console.log(),i.epilogue()})}function s(){}var a=i("./base"),o=a.cursor,l=a.color;t=e.exports=n,a.colors.plane=0,a.colors["plane crash"]=31,a.colors.runway=90,s.prototype=a.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/list.js",function(e,t,i){function n(e){a.call(this,e);var t=this,i=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){r.stdout.write(l("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=l("checkmark","  -")+l("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=l("checkmark","  "+a.symbols.dot)+l("pass"," %s: ")+l(e.speed,"%dms");o.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e,t){o.CR(),console.log(l("fail","  %d) %s"),++i,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function s(){}var a=i("./base"),o=a.cursor,l=a.color;t=e.exports=n,s.prototype=a.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/markdown.js",function(e,t,i){function n(e){function t(e){return Array(l).join("#")+" "+e}function i(e,t){var n=t;return t=t[e.title]=t[e.title]||{suite:e},e.suites.forEach(function(e){i(e,t)}),n}function n(e,t){++t;var i,s="";for(var r in e)"suite"!=r&&(r&&(i=" - ["+r+"](#"+a.slug(e[r].suite.fullTitle())+")\n"),r&&(s+=Array(t).join("  ")+i),s+=n(e[r],t));return--t,s}function o(e){var t=i(e,{});return n(t,0)}s.call(this,e);var l=(this.stats,0),u="";o(e.suite),e.on("suite",function(e){++l;var i=a.slug(e.fullTitle());u+='<a name="'+i+'"></a>\n',u+=t(e.title)+"\n"}),e.on("suite end",function(e){--l}),e.on("pass",function(e){var t=a.clean(e.fn.toString());
u+=e.title+".\n",u+="\n```js\n",u+=t+"\n",u+="```\n\n"}),e.on("end",function(){r.stdout.write("# TOC\n"),r.stdout.write(o(e.suite)),r.stdout.write(u)})}var s=i("./base"),a=i("../utils");t=e.exports=n}),e.register("reporters/min.js",function(e,t,i){function n(e){a.call(this,e),e.on("start",function(){r.stdout.write("[2J"),r.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function s(){}var a=i("./base");t=e.exports=n,s.prototype=a.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/nyan.js",function(e,t,i){function n(e){o.call(this,e);var t=this,i=(this.stats,.75*o.window.width|0),n=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=i-n,this.scoreboardWidth=5,this.tick=0;e.on("start",function(){o.cursor.hide(),t.draw()}),e.on("pending",function(e){t.draw()}),e.on("pass",function(e){t.draw()}),e.on("fail",function(e,i){t.draw()}),e.on("end",function(){o.cursor.show();for(var e=0;e<t.numberOfLines;e++)s("\n");t.epilogue()})}function s(e){r.stdout.write(e)}function a(){}var o=i("./base");o.color;t=e.exports=n,n.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},n.prototype.drawScoreboard=function(){function e(e,t){s(" "),s("["+e+"m"+t+"[0m"),s("\n")}var t=this.stats,i=o.colors;e(i.green,t.passes),e(i.fail,t.failures),e(i.pending,t.pending),s("\n"),this.cursorUp(this.numberOfLines)},n.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),i=0;i<this.numberOfLines;i++){var n=this.trajectories[i];n.length>=this.trajectoryWidthMax&&n.shift(),n.push(t)}},n.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t,i){s("["+e.scoreboardWidth+"C"),s(t.join("")),s("\n")}),this.cursorUp(this.numberOfLines)},n.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,i="["+t+"C",n="";s(i),s("_,------,"),s("\n"),s(i),n=e.tick?"  ":"   ",s("_|"+n+"/\\_/\\ "),s("\n"),s(i),n=e.tick?"_":"__";var r=e.tick?"~":"^";s(r+"|"+n+this.face()+" "),s("\n"),s(i),n=e.tick?" ":"  ",s(n+'""  "" '),s("\n"),this.cursorUp(this.numberOfLines)},n.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},n.prototype.cursorUp=function(e){s("["+e+"A")},n.prototype.cursorDown=function(e){s("["+e+"B")},n.prototype.generateColors=function(){for(var e=[],t=0;42>t;t++){var i=Math.floor(Math.PI/3),n=t*(1/6),s=Math.floor(3*Math.sin(n)+3),r=Math.floor(3*Math.sin(n+2*i)+3),a=Math.floor(3*Math.sin(n+4*i)+3);e.push(36*s+6*r+a+16)}return e},n.prototype.rainbowify=function(e){var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},a.prototype=o.prototype,n.prototype=new a,n.prototype.constructor=n}),e.register("reporters/progress.js",function(e,t,i){function n(e,t){a.call(this,e);var i=this,t=t||{},n=(this.stats,.5*a.window.width|0),s=e.total,u=0,c=(Math.max,-1);t.open=t.open||"[",t.complete=t.complete||"▬",t.incomplete=t.incomplete||a.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),o.hide()}),e.on("test end",function(){u++;var e=u/s,i=n*e|0,a=n-i;(c!==i||t.verbose)&&(c=i,o.CR(),r.stdout.write("[J"),r.stdout.write(l("progress","  "+t.open)),r.stdout.write(Array(i).join(t.complete)),r.stdout.write(Array(a).join(t.incomplete)),r.stdout.write(l("progress",t.close)),t.verbose&&r.stdout.write(l("progress"," "+u+" of "+s)))}),e.on("end",function(){o.show(),console.log(),i.epilogue()})}function s(){}var a=i("./base"),o=a.cursor,l=a.color;t=e.exports=n,a.colors.progress=90,s.prototype=a.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/spec.js",function(e,t,i){function n(e){function t(){return Array(n).join("  ")}r.call(this,e);var i=this,n=(this.stats,0),s=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++n,console.log(o("suite","%s%s"),t(),e.title)}),e.on("suite end",function(e){--n,1==n&&console.log()}),e.on("pending",function(e){var i=t()+o("pending","  - %s");console.log(i,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var i=t()+o("checkmark","  "+r.symbols.ok)+o("pass"," %s ");a.CR(),console.log(i,e.title)}else{var i=t()+o("checkmark","  "+r.symbols.ok)+o("pass"," %s ")+o(e.speed,"(%dms)");a.CR(),console.log(i,e.title,e.duration)}}),e.on("fail",function(e,i){a.CR(),console.log(t()+o("fail","  %d) %s"),++s,e.title)}),e.on("end",i.epilogue.bind(i))}function s(){}var r=i("./base"),a=r.cursor,o=r.color;t=e.exports=n,s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("reporters/tap.js",function(e,t,i){function n(e){r.call(this,e);var t=(this.stats,1),i=0,n=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,s(e))}),e.on("pass",function(e){i++,console.log("ok %d %s",t,s(e))}),e.on("fail",function(e,i){n++,console.log("not ok %d %s",t,s(e)),i.stack&&console.log(i.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(i+n)),console.log("# pass "+i),console.log("# fail "+n)})}function s(e){return e.fullTitle().replace(/#/g,"")}var r=i("./base");r.cursor,r.color;t=e.exports=n}),e.register("reporters/xunit.js",function(e,t,n){function s(e){u.call(this,e);var t=this.stats,i=[];e.on("pending",function(e){i.push(e)}),e.on("pass",function(e){i.push(e)}),e.on("fail",function(e){i.push(e)}),e.on("end",function(){console.log(o("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skipped:t.tests-t.failures-t.passes,timestamp:(new d).toUTCString(),time:t.duration/1e3||0},!1)),i.forEach(a),console.log("</testsuite>")})}function r(){}function a(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var i=e.err;console.log(o("testcase",t,!1,o("failure",{},!1,l(h(i.message)+"\n"+i.stack))))}else e.pending?console.log(o("testcase",t,!1,o("skipped",{},!0))):console.log(o("testcase",t,!0))}function o(e,t,i,n){var s,r=i?"/>":">",a=[];for(var o in t)a.push(o+'="'+h(t[o])+'"');return s="<"+e+(a.length?" "+a.join(" "):"")+r,n&&(s+=n+"</"+e+r),s}function l(e){return"<![CDATA["+h(e)+"]]>"}var u=n("./base"),c=n("../utils"),h=c.escape,d=i.Date;i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval;t=e.exports=s,r.prototype=u.prototype,s.prototype=new r,s.prototype.constructor=s}),e.register("runnable.js",function(e,t,n){function s(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1,this._trace=new Error("done() called multiple times")}function r(){}var a=n("browser/events").EventEmitter,o=n("browser/debug")("mocha:runnable"),l=n("./ms"),u=i.Date,c=i.setTimeout,h=(i.setInterval,i.clearTimeout),d=(i.clearInterval,Object.prototype.toString);e.exports=s,r.prototype=a.prototype,s.prototype=new r,s.prototype.constructor=s,s.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=l(e)),o("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},s.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=l(e)),o("timeout %d",e),this._slow=e,this)},s.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(o("enableTimeouts %s",e),this._enableTimeouts=e,this)},s.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},s.prototype.clearTimeout=function(){h(this.timer)},s.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_"!=e[0]?"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t:void 0},2)},s.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=c(function(){e._enableTimeouts&&(e.callback(new Error("timeout of "+t+"ms exceeded")),e.timedOut=!0)},t))},s.prototype.globals=function(e){this._allowedGlobals=e},s.prototype.run=function(e){function t(e){r||(r=!0,a.emit("error",e||new Error("done() called multiple times; stacktrace may be inaccurate")))}function i(i){var n=a.timeout();if(!a.timedOut){if(s)return t(i||a._trace);a.clearTimeout(),a.duration=new u-o,s=!0,!i&&a.duration>n&&a._enableTimeouts&&(i=new Error("timeout of "+n+"ms exceeded")),e(i)}}function n(e){var t=e.call(l);t&&"function"==typeof t.then?(a.resetTimeout(),t.then(function(){i()},function(e){i(e||new Error("Promise rejected with no or falsy reason"))})):i()}var s,r,a=this,o=new u,l=this.ctx;if(l&&l.runnable&&l.runnable(this),this.callback=i,this.async){this.resetTimeout();try{this.fn.call(l,function(e){return e instanceof Error||"[object Error]"===d.call(e)?i(e):null!=e?i("[object Object]"===Object.prototype.toString.call(e)?new Error("done() invoked with non-Error: "+JSON.stringify(e)):new Error("done() invoked with non-Error: "+e)):void i()})}catch(c){i(c)}}else{if(this.asyncOnly)return i(new Error("--async-only option in use without declaring `done()`"));try{this.pending?i():n(this.fn)}catch(c){i(c)}}}}),e.register("runner.js",function(e,t,n){function s(e){var t=this;this._globals=[],this._abort=!1,this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){t.checkGlobals(e)}),this.on("hook end",function(e){t.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(l()))}function a(){}function o(e,t){return d(t,function(t){if(/^d+/.test(t))return!1;if(i.navigator&&/^getInterface/.test(t))return!1;if(i.navigator&&/^\d+/.test(t))return!1;if(/^mocha-/.test(t))return!1;var n=d(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):t==e});return 0==n.length&&(!i.navigator||"onerror"!==t)})}function l(){if("object"==typeof r&&"string"==typeof r.version){var e=r.version.split(".").reduce(function(e,t){return e<<8|t});if(2315>e)return["errno"]}return[]}var u=n("browser/events").EventEmitter,c=n("browser/debug")("mocha:runner"),h=(n("./test"),n("./utils")),d=h.filter,f=(h.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);e.exports=s,s.immediately=i.setImmediate||r.nextTick,a.prototype=u.prototype,s.prototype=new a,s.prototype.constructor=s,s.prototype.grep=function(e,t){return c("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},s.prototype.grepTotal=function(e){var t=this,i=0;return e.eachTest(function(e){var n=t._grep.test(e.fullTitle());t._invert&&(n=!n),n&&i++}),i},s.prototype.globalProps=function(){for(var e=h.keys(i),t=0;t<f.length;++t)~h.indexOf(e,f[t])||e.push(f[t]);return e},s.prototype.globals=function(e){return 0==arguments.length?this._globals:(c("globals %j",e),this._globals=this._globals.concat(e),this)},s.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,i=this._globals,n=this.globalProps();e&&(i=i.concat(e._allowedGlobals||[])),this.prevGlobalsLength!=n.length&&(this.prevGlobalsLength=n.length,t=o(i,n),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},s.prototype.fail=function(e,t){++this.failures,e.state="failed","string"==typeof t&&(t=new Error('the string "'+t+'" was thrown, throw an Error :)')),this.emit("fail",e,t)},s.prototype.failHook=function(e,t){this.fail(e,t),this.suite.bail()&&this.emit("end")},s.prototype.hook=function(e,t){function i(e){var s=r[e];return s?a.failures&&n.bail()?t():(a.currentRunnable=s,s.ctx.currentTest=a.test,a.emit("hook",s),s.on("error",function(e){a.failHook(s,e)}),void s.run(function(n){s.removeAllListeners("error");var r=s.error();return r&&a.fail(a.test,r),n?(a.failHook(s,n),t(n)):(a.emit("hook end",s),delete s.ctx.currentTest,void i(++e))})):t()}var n=this.suite,r=n["_"+e],a=this;s.immediately(function(){i(0)})},s.prototype.hooks=function(e,t,i){function n(a){return s.suite=a,a?void s.hook(e,function(e){if(e){var a=s.suite;return s.suite=r,i(e,a)}n(t.pop())}):(s.suite=r,i())}var s=this,r=this.suite;n(t.pop())},s.prototype.hookUp=function(e,t){var i=[this.suite].concat(this.parents()).reverse();this.hooks(e,i,t)},s.prototype.hookDown=function(e,t){var i=[this.suite].concat(this.parents());this.hooks(e,i,t)},s.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},s.prototype.runTest=function(e){var t=this.test,i=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){i.fail(t,e)}),t.run(e)}catch(n){e(n)}},s.prototype.runTests=function(e,t){function i(e,n,s){var a=r.suite;r.suite=s?n.parent:n,r.suite?r.hookUp("afterEach",function(e,s){return r.suite=a,e?i(e,s,!0):void t(n)}):(r.suite=a,t(n))}function n(o,l){if(r.failures&&e._bail)return t();if(r._abort)return t();if(o)return i(o,l,!0);if(s=a.shift(),!s)return t();var u=r._grep.test(s.fullTitle());return r._invert&&(u=!u),u?s.pending?(r.emit("pending",s),r.emit("test end",s),n()):(r.emit("test",r.test=s),void r.hookDown("beforeEach",function(e,t){return e?i(e,t,!1):(r.currentRunnable=r.test,void r.runTest(function(e){return s=r.test,e?(r.fail(s,e),r.emit("test end",s),r.hookUp("afterEach",n)):(s.state="passed",r.emit("pass",s),r.emit("test end",s),void r.hookUp("afterEach",n))}))})):n()}var s,r=this,a=e.tests.slice();this.next=n,n()},s.prototype.runSuite=function(e,t){function i(t){if(t)return t==e?n():n(t);if(r._abort)return n();var s=e.suites[a++];return s?void r.runSuite(s,i):n()}function n(i){r.suite=e,r.hook("afterAll",function(){r.emit("suite end",e),t(i)})}var s=this.grepTotal(e),r=this,a=0;return c("run suite %s",e.fullTitle()),s?(this.emit("suite",this.suite=e),void this.hook("beforeAll",function(t){return t?n():void r.runTests(e,i)})):t()},s.prototype.uncaught=function(e){e?c("uncaught exception %s",e!==function(){return this}.call(e)?e:e.message||e):(c("uncaught undefined exception"),e=new Error("Caught undefined error, did you throw without specifying what?")),e.uncaught=!0;var t=this.currentRunnable;if(t){var i=t.state;if(this.fail(t,e),t.clearTimeout(),!i)return"test"==t.type?(this.emit("test end",t),void this.hookUp("afterEach",this.next)):void this.emit("end")}},s.prototype.run=function(e){function t(e){i.uncaught(e)}var i=this,e=e||function(){};return c("start"),this.on("end",function(){c("end"),r.removeListener("uncaughtException",t),e(i.failures)}),this.emit("start"),this.runSuite(this.suite,function(){c("finished running"),i.emit("end")}),r.on("uncaughtException",t),this},s.prototype.abort=function(){c("aborting"),this._abort=!0}}),e.register("suite.js",function(e,t,i){function n(e,t){this.title=e;var i=function(){};i.prototype=t,this.ctx=new i,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1}function s(){}var r=i("browser/events").EventEmitter,a=i("browser/debug")("mocha:suite"),o=i("./ms"),l=i("./utils"),u=i("./hook");t=e.exports=n,t.create=function(e,t){var i=new n(t,e.ctx);return i.parent=e,e.pending&&(i.pending=!0),t=i.fullTitle(),e.addSuite(i),i},s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this.title);return a("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),e},n.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=o(e)),a("timeout %d",e),this._timeout=parseInt(e,10),this)},n.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(a("enableTimeouts %s",e),this._enableTimeouts=e,this)},n.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=o(e)),a("slow %d",e),this._slow=e,this)},n.prototype.bail=function(e){return 0==arguments.length?this._bail:(a("bail %s",e),this._bail=e,this)},n.prototype.beforeAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before all" hook'+(e?": "+e:"");var i=new u(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._beforeAll.push(i),this.emit("beforeAll",i),this},n.prototype.afterAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after all" hook'+(e?": "+e:"");var i=new u(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._afterAll.push(i),this.emit("afterAll",i),this},n.prototype.beforeEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before each" hook'+(e?": "+e:"");var i=new u(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._beforeEach.push(i),this.emit("beforeEach",i),this},n.prototype.afterEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after each" hook'+(e?": "+e:"");var i=new u(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._afterEach.push(i),this.emit("afterEach",i),this},n.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},n.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},n.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},n.prototype.total=function(){return l.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},n.prototype.eachTest=function(e){return l.forEach(this.tests,e),l.forEach(this.suites,function(t){t.eachTest(e)}),this}}),e.register("test.js",function(e,t,i){function n(e,t){r.call(this,e,t),this.pending=!t,this.type="test"}function s(){}var r=i("./runnable");e.exports=n,s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("utils.js",function(e,t,i){function n(e){return!~d.indexOf(e)}function s(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var r=i("browser/fs"),a=i("browser/path"),o=a.basename,l=r.existsSync||a.existsSync,u=i("browser/glob"),c=a.join,h=i("browser/debug")("mocha:watch"),d=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,i){for(var n=0,s=e.length;s>n;n++)t.call(i,e[n],n)},t.map=function(e,t,i){for(var n=[],s=0,r=e.length;r>s;s++)n.push(t.call(i,e[s],s));return n},t.indexOf=function(e,t,i){for(var n=i||0,s=e.length;s>n;n++)if(e[n]===t)return n;return-1},t.reduce=function(e,t,i){for(var n=i,s=0,r=e.length;r>s;s++)n=t(n,e[s],s,e);return n},t.filter=function(e,t){for(var i=[],n=0,s=e.length;s>n;n++){var r=e[n];t(r,n,e)&&i.push(r)}return i},t.keys=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);return t},t.watch=function(e,t){var i={interval:100};e.forEach(function(e){h("file %s",e),r.watchFile(e,i,function(i,n){n.mtime<i.mtime&&t(e)})})},t.files=function(e,i,s){s=s||[],i=i||["js"];var a=new RegExp("\\.("+i.join("|")+")$");return r.readdirSync(e).filter(n).forEach(function(n){n=c(e,n),r.statSync(n).isDirectory()?t.files(n,i,s):n.match(a)&&s.push(n)}),s},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var i=e.match(/^\n?( *)/)[1].length,n=e.match(/^\n?(\t*)/)[1].length,s=new RegExp("^\n?"+(n?"	":" ")+"{"+(n?n:i)+"}","gm");return e=e.replace(s,""),t.trim(e)},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var i=t.indexOf("="),n=t.slice(0,i),s=t.slice(++i);return e[n]=decodeURIComponent(s),e},{})},t.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),i=0,n=t.length;n>i;++i)t[i].innerHTML=s(t[i].innerHTML)},t.stringify=function(e){return e instanceof RegExp?e.toString():JSON.stringify(t.canonicalize(e),null,2).replace(/,(\n|$)/g,"$1")},t.canonicalize=function(e,i){if(i=i||[],-1!==t.indexOf(i,e))return"[Circular]";var n;return"[object Array]"==={}.toString.call(e)?(i.push(e),n=t.map(e,function(e){return t.canonicalize(e,i)}),i.pop()):"object"==typeof e&&null!==e?(i.push(e),n={},t.forEach(t.keys(e).sort(),function(s){n[s]=t.canonicalize(e[s],i)}),i.pop()):n=e,n},t.lookupFiles=function f(e,t,i){var n=[],s=new RegExp("\\.("+t.join("|")+")$");if(!l(e)){if(!l(e+".js")){if(n=u.sync(e),!n.length)throw new Error("cannot resolve path (or pattern) '"+e+"'");return n}e+=".js"}try{var a=r.statSync(e);if(a.isFile())return e}catch(h){return}return r.readdirSync(e).forEach(function(a){a=c(e,a);try{var l=r.statSync(a);if(l.isDirectory())return void(i&&(n=n.concat(f(a,t,i))))}catch(u){return}l.isFile()&&s.test(a)&&"."!==o(a)[0]&&n.push(a)}),n}});var i=function(){return this}(),n=i.Date,s=i.setTimeout,r=(i.setInterval,i.clearTimeout,i.clearInterval,{});r.exit=function(e){},r.stdout={};var a=[],o=i.onerror;r.removeListener=function(e,t){if("uncaughtException"==e){o?i.onerror=o:i.onerror=function(){};var n=l.utils.indexOf(a,t);-1!=n&&a.splice(n,1)}},r.on=function(e,t){"uncaughtException"==e&&(i.onerror=function(e,i,n){return t(new Error(e+" ("+i+":"+n+")")),!0},a.push(t))};var l=i.Mocha=e("mocha"),u=i.mocha=new l({reporter:"html"});u.suite.removeAllListeners("pre-require");var c,h=[];l.Runner.immediately=function(e){h.push(e),c||(c=s(t,0))},u.throwError=function(e){throw l.utils.forEach(a,function(t){t(e)}),e},u.ui=function(e){return l.prototype.ui.call(this,e),this.suite.emit("pre-require",i,null,this),this},u.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},u.run=function(e){var t=u.options;u.globals("location");var n=l.utils.parseQuery(i.location.search||"");return n.grep&&u.grep(n.grep),n.invert&&u.invert(),l.prototype.run.call(u,function(n){var s=i.document;s&&s.getElementById("mocha")&&t.noHighlighting!==!0&&l.utils.highlightTags("code"),e&&e(n)})},l.process=r}();